#!/bin/bash

# create build file for ant

echo ""
echo " ------ Creating a build file for ant ------ "
echo ""
echo ""
echo -n " Enter the path to JAMA [default=system]: "
read jama_dir
if [ -z ${jama_dir} ]; then
  java_dir=""
fi
echo -n " Enter the path to Java3D [default=system]: "
read j3d_dir
if [ -z ${j3d_dir} ]; then
  j3d_dir=""
fi

xmlfile='build_JSindo.xml'
if [ -e ${xmlfile} ]; then
  rm ${xmlfile}
fi

TMP=$(mktemp tmp.XXXX)
ver=$(cat ../VERSION)
sed -e "s#VERSION#${ver}#"  build/build_JSindo.tmp  > ${xmlfile}

mv ${xmlfile} ${TMP}
sed -e "s#JAMA_DIR#${jama_dir}#" ${TMP} > ${xmlfile}
mv ${xmlfile} ${TMP}
sed -e "s#J3D_DIR#${j3d_dir}#"   ${TMP} > ${xmlfile}
rm ${TMP}

echo ""
echo " Successfully created ${xmlfile}. "
echo ""
echo " To compile JSindo and create jar file, type:"
echo "   > ant -f ${xmlfile}"
echo " ------------------------------------------- "

