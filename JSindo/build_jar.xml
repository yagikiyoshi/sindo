<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="create_jar" name="Create Runnable Jar for JSindo">
    <tstamp>
      <format property="DATE" pattern="yyMMdd" />
    </tstamp>

    <!--define folder properties-->
    <property name="dir.bin" value="./bin"/>
    <property name="jarfile" value="JSindo-4.0_${DATE}.jar"/>

    <target name="clean">
      <delete dir="${dir.bin}" />
      <delete file="${jarfile}" />
    </target>

    <target name="compile" depends="clean">
      <mkdir dir="${dir.bin}" />
      <path id="buildpath">
        <fileset dir="/Users/kyagi/Work/lib/Jama" includes="*.jar" />
      </path>
      <javac srcdir="./src" destdir="${dir.bin}" 
             includeantruntime="false" 
             classpathref="buildpath" />
    </target>

    <target name="create_jar" depends="compile">
      <jar destfile="${jarfile}" filesetmanifest="mergewithoutmain">
        <manifest>
          <attribute name="Main-Class" value="JSindo"/>
          <attribute name="Class-Path" value="."/>
        </manifest>
        <fileset dir="${dir.bin}"
                 includes="JSindo.class,RunMakePES.class,*/*.class"/>
      </jar>
    </target>

</project>
